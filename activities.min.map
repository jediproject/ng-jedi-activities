{"version":3,"file":"activities.min.js","sources":["activities.js"],"names":["factory","define","module","exports","guid","s4","Math","floor","random","toString","substring","activityItems","activitiesRefreshUrl","hideClass","minimizeClass","storeName","angular","config","$indexedDBProvider","connection","upgradeDatabase","event","db","tx","createObjectStore","keyPath","constant","inProgressWarning","i18nDirective","title","minimizeLabel","closeLabel","successLabel","doneLabel","errorLabel","saveLabel","removeLabel","clearAllLabel","service","$q","$http","$rootScope","$timeout","$indexedDB","$log","insertToIndexedDb","item","openStore","store","insert","id","activityItem","then","e","info","this","initActivity","baseUrl","apiUrl","method","params","activityName","userLogin","respType","timeout","duration","moment","onTimeout","add","hours","minutes","slice","seconds","status","name","userLoginHash","CryptoJS","MD5","async","push","request","toUpperCase","url","data","responseType","ignoreLoadingBar","showLoadingModal","httpPromise","success","headers","toLowerCase","contentDisposition","filename","indexOf","Blob","type","error","when","response","asMilliseconds","initAsyncActivity","_","some","s","clearAll","$broadcast","toggle","validateActivities","userIdentity","hasInProgressActivities","count","forEach","index","hasActivities","length","directive","$interpolate","ActivitiesConfig","restrict","replace","link","scope","element","attrs","activitiesCtrl","$watch","value","removeClass","inProgressCount","getInProgressItemsCount","activitiesModel","minimize","addClass","window","onbeforeunload","evt","obj","$on","controller","initCtrl","remove","isRemoving","isAsync","hideApiUrl","post","result","splice","saveIconClick","saveAs","refresh","close","hasItemsToShow","i","show","hasClass","getAll","objects","currentUserLoginHash","login","vm","controllerAs","bindToController","templateUrl","elem","run","$templateCache","tmpl","put"],"mappings":"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"}