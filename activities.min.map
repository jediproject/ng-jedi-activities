{"version":3,"file":"activities.min.js","sources":["activities.js"],"names":["factory","define","module","exports","guid","s4","Math","floor","random","toString","substring","interval","activityItems","refreshServices","hideClass","minimizeClass","storeName","updateArray","destination","source","length","angular","forEach","element","upsert","item","id","_","remove","baseUrl","any","arr","key","newval","find","merge","push","config","$indexedDBProvider","connection","upgradeDatabase","event","db","tx","createObjectStore","keyPath","constant","inProgressWarning","i18nDirective","title","minimizeLabel","closeLabel","successLabel","waitingLabel","stopLabel","detailLabel","resultLabel","doneLabel","errorLabel","saveLabel","removeLabel","refreshTime","clearAllLabel","service","$q","$http","$rootScope","$timeout","$interval","$indexedDB","$log","ActivitiesConfig","clock","activityItem","timeout","duration","moment","startDate","diff","endDate","Date","now","add","onTimeout","hours","minutes","slice","seconds","status","insertToIndexedDb","openStore","store","insert","then","e","info","$this","this","initActivity","apiUrl","method","params","activityName","userLogin","respType","name","userLoginHash","CryptoJS","MD5","async","unshift","request","toUpperCase","url","data","trim","toLowerCase","undefined","responseType","ignoreLoadingBar","showLoadingModal","httpPromise","success","headers","contentDisposition","filename","indexOf","Blob","type","error","when","response","initAsyncActivity","s","result","refresh","loadAsyncActivities","apiRefreshUrl","refreshSuccess","refreshError","activities","transform","ret","i","extend","getTime","sortByOrder","close","$broadcast","show","clearAll","toggle","validateActivities","userIdentity","cancelRefreshActivities","cancel","cancelCloseRefreshActivities","hasInProgressActivities","count","index","hasActivities","directive","$interpolate","restrict","replace","link","scope","attrs","activitiesCtrl","$watch","value","removeClass","inProgressCount","getInProgressItemsCount","activitiesModel","minimize","addClass","window","onbeforeunload","evt","obj","$on","controller","$window","alertHelper","initCtrl","hideApiUrl","isRemoving","splice","save","isAsync","downloadApiUrl","saveAs","resultUrl","open","detail","detailsUrl","cancelApiUrl","confirm","debug","hasItemsToShow","hasClass","getAll","objects","currentUserLoginHash","login","vm","controllerAs","bindToController","templateUrl","elem","run","$templateCache","tmpl","canceledLabel","put"],"mappings":"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"}