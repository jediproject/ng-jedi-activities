{"version":3,"file":"activities.min.js","sources":["activities.js"],"names":["factory","define","module","exports","guid","s4","Math","floor","random","toString","substring","interval","activityItems","refreshServices","hideClass","minimizeClass","storeName","updateArray","destination","source","length","angular","forEach","element","upsert","item","id","_","remove","baseUrl","any","arr","key","newval","find","merge","push","config","$indexedDBProvider","connection","upgradeDatabase","event","db","tx","createObjectStore","keyPath","constant","inProgressWarning","i18nDirective","title","minimizeLabel","closeLabel","successLabel","stopLabel","detailLabel","resultLabel","doneLabel","errorLabel","saveLabel","removeLabel","refreshTime","clearAllLabel","service","$q","$http","$rootScope","$timeout","$interval","$indexedDB","$log","ActivitiesConfig","insertToIndexedDb","openStore","store","insert","activityItem","then","e","info","$this","this","initActivity","apiUrl","method","params","activityName","userLogin","respType","timeout","duration","moment","onTimeout","add","hours","minutes","slice","seconds","status","name","userLoginHash","CryptoJS","MD5","async","initialDate","Date","now","unshift","request","toUpperCase","url","data","responseType","ignoreLoadingBar","showLoadingModal","httpPromise","success","headers","toLowerCase","contentDisposition","filename","indexOf","Blob","type","error","when","response","asMilliseconds","initAsyncActivity","s","result","refresh","loadAsyncActivities","apiRefreshUrl","refreshSuccess","refreshError","activities","transform","ret","i","getTime","sortByOrder","close","$broadcast","clearAll","toggle","validateActivities","userIdentity","cancelRefreshActivities","cancel","undefined","cancelCloseRefreshActivities","hasInProgressActivities","count","index","hasActivities","directive","$interpolate","restrict","replace","link","scope","attrs","activitiesCtrl","$watch","value","removeClass","inProgressCount","getInProgressItemsCount","activitiesModel","minimize","addClass","window","onbeforeunload","evt","obj","$on","controller","$window","alertHelper","initCtrl","isRemoving","hideApiUrl","post","splice","save","isAsync","downloadApiUrl","saveAs","resultUrl","open","detail","detailsUrl","confirm","debug","cancelApiUrl","hasItemsToShow","show","hasClass","getAll","objects","currentUserLoginHash","login","vm","controllerAs","bindToController","templateUrl","elem","run","$templateCache","tmpl","canceledLabel","put"],"mappings":";;;;;;CAKC,SAAUA,GACP,MAAsB,kBAAXC,SAGe,mBAAXC,SAA6C,mBAAZC,UAA2BD,OAAOC,UAAYA,UACtFD,OAAOC,QAAU,mBAEdH,SALPC,SAAQ,UAAW,SAAU,uBAAwB,sBAAuBD,IAOlF,WACE,YASA,SAASI,KACL,QAASC,KACL,MAAOC,MAAKC,MAA4B,OAArB,EAAID,KAAKE,WACvBC,SAAS,IACTC,UAAU,GAEnB,MAAOL,KAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAC3CA,IAAO,IAAMA,IAAOA,IAAOA,IAdnC,GAEIM,GAFAC,KACAC,KAEAC,EAAY,SACZC,EAAgB,aAChBC,EAAY,aAYZC,EAAc,SAAUC,EAAaC,GACjCA,EAAOC,OAAS,IAEhBC,QAAQC,QAAQH,EAAQ,SAAUI,GAC9BC,EAAON,EACH,SAAUO,GACN,MAAOF,GAAQG,KAAOD,EAAKC,IAE/BH,KAGRI,EAAEC,OAAOV,EAAa,SAAUO,GAC5B,MAAIN,GAAO,GAAGU,QACHV,EAAO,GAAGU,UAAYJ,EAAKI,UAC1BF,EAAEG,IAAIX,EAAQ,SAAUI,GACxB,MAAOA,GAAQG,KAAOD,EAAKC,MAGhC,MAKfF,EAAS,SAAUO,EAAKC,EAAKC,GAC7B,GAAIN,EAAEG,IAAIC,EAAKC,GAAM,CACjB,GAAIP,GAAOE,EAAEO,KAAKH,EAAKC,EAEvBL,GAAEQ,MAAMV,EAAMQ,OAGdF,GAAIK,KAAKH,GAIjBZ,SAAQnB,OAAO,mBAAoB,cAAcmC,QAAQ,qBAAsB,SAAUC,GACrFA,EACKC,WAAW,cACXC,gBAAgB,EAAG,SAAUC,EAAOC,EAAIC,GACtBD,EAAGE,kBAAkB5B,GAAa6B,QAAS,YAItExB,QAAQnB,OAAO,mBAAmB4C,SAAS,oCACvCC,kBAAmB,kEACnBC,cAAe,GACfC,MAAO,aACPC,cAAe,WACfC,WAAY,QACZC,aAAc,UACdC,UAAW,OACXC,YAAa,UACbC,YAAa,SACbC,UAAW,OACXC,WAAY,QACZC,UAAW,OACXC,YAAa,SACbC,YAAa,IACbC,cAAe,cAGnBxC,QAAQnB,OAAO,mBAAmB4D,QAAQ,qCAAsC,KAAM,QAAS,aAAc,WAAY,YAAa,aAAc,OAAQ,mCAAoC,SAAUC,EAAIC,EAAOC,EAAYC,EAAUC,EAAWC,EAAYC,EAAMC,GA4PpQ,QAASC,GAAkB9C,GACvB2C,EAAWI,UAAUxD,EAAW,SAAUyD,GACtCA,EAAMC,QAAShD,GAAMD,EAAKC,GAAIiD,aAAgBlD,IAAQmD,KAAK,SAAUC,GACjER,EAAKS,KAAK,2BAA6BD,OA7PnD,GAAIE,GAAQC,IAEZA,MAAKC,aAAe,SAAUpD,EAASqD,EAAQC,EAAQC,EAAQC,EAAcC,EAAWC,GAEpF,GAAIC,GACAC,EAAWC,OAAOD,WAElBE,EAAY,WACZF,EAASG,IAAI,EAAG,KAChBjB,EAAac,SAAW,KAAOA,EAASI,QAAUJ,EAASI,QAAU,IAAM,KAAO,IAAMJ,EAASK,WAAWC,MAAM,IAAM,KAAO,IAAMN,EAASO,WAAWD,MAAM,IAAM,IACzI,aAAxBpB,EAAasB,SACbT,EAAUtB,EAASyB,EAAW,OAIlChB,GACAjD,GAAItB,IACJ8F,KAAMb,EACNY,OAAQ,WACRR,SAAU,UACVU,cAAeC,SAASC,IAAIf,GAAW7E,WACvC6F,OAAO,EACPC,YAAaC,KAAKC,MAGtB7F,GAAc8F,QAAQ/B,EAEtB,IAAIgC,IACAxB,OAAQA,EAAOyB,cACfC,IAAKhF,EAAU,IAAMqD,EACrB4B,KAAM1B,EACN2B,aAAcxB,EAAWA,EAAW,cACpCyB,kBAAkB,EAClBC,kBAAkB,EAGtB/C,GAASyB,EAET,IAAIuB,GAAclD,EAAM2C,GAASQ,QAAQ,SAAUL,EAAMb,EAAQmB,EAAS/E,GAEtE,GAA2C,gBAAvCsE,EAAQI,aAAaM,eAA0E,SAAvCV,EAAQI,aAAaM,cAA0B,CACvG,GAAIC,GAAqBF,EAAQ,uBAC7BG,EAAWD,EAAqBA,EAAmB5G,UAAW4G,EAAmBE,QAAQ,aAAe,GAAM,EAE9GD,KACA5C,EAAauB,KAAOqB,GAGxB5C,EAAasB,OAAS,UACtBtB,EAAamC,KAAO,GAAIW,OAAMX,IAASY,KAAMN,EAAQ,kBAErD7C,EAAkBI,OAElBA,GAAasB,OAAS,OACtBtB,EAAamC,KAAOA,EAEpBvC,EAAkBI,KAEvBgD,MAAM,SAAUb,EAAMb,GACrBtB,EAAasB,OAAS,QACtBtB,EAAamC,KAAO,KAEpBvC,EAAkBI,IAGtB,OAAOZ,GAAG6D,KACNV,EAAYtC,KAAK,SAAUiD,GACvB,OACIpC,SAAUA,EAASqC,iBACnB5B,KAAMvB,EAAauB,KACnBY,KAAMnC,EAAamC,KACnBb,OAAQtB,EAAasB,YAMrCjB,KAAK+C,kBAAoB,SAAUlG,EAASqD,EAAQC,EAAQC,EAAQC,EAAcC,GAG9E,IAAK3E,GAAYgB,EAAEG,IAAIjB,EAAiB,SAAUmH,GAAK,MAA8B,KAAvBA,EAAER,QAAQ3F,KACpE,KAAM,4HAGV,IAAI2D,GACAC,EAAWC,OAAOD,WAElBE,EAAY,WACZF,EAASG,IAAI,EAAG,KAChBjB,EAAac,SAAW,KAAOA,EAASI,QAAUJ,EAASI,QAAU,IAAM,KAAO,IAAMJ,EAASK,WAAWC,MAAM,IAAM,KAAO,IAAMN,EAASO,WAAWD,MAAM,IAAM,IACzI,aAAxBpB,EAAasB,SACbT,EAAUtB,EAASyB,EAAW,OAIlChB,GACAjD,GAAItB,IACJ8F,KAAMb,EACNY,OAAQ,WACRR,SAAU,UACVU,cAAeC,SAASC,IAAIf,GAAW7E,WACvC6F,OAAO,EACPC,YAAaC,KAAKC,MAClB5E,QAASA,EAGbjB,GAAc8F,QAAQ/B,EAEtB,IAAIgC,IACAxB,OAAQA,EAAOyB,cACfC,IAAKhF,EAAU,IAAMqD,EACrB4B,KAAM1B,EACN4B,kBAAkB,EAClBC,kBAAkB,EAGtB/C,GAASyB,EAGT,IAAIuB,GAAclD,EAAM2C,GAASQ,QAAQ,SAAUc,GAC3CA,EAAOnB,OACPtF,EAAOZ,EACP,SAAUa,GACN,MAAOwG,GAAOnB,KAAKpF,KAAOD,EAAKC,IAEnCuG,EAAOnB,MACPoB,aAELP,MAAM,SAAUM,EAAQhC,GACvBtB,EAAasB,OAAS,QACtBtB,EAAamC,KAAO,KAEpBvC,EAAkBI,IAGtB,OAAOZ,GAAG6D,KACNV,EAAYtC,KAAK,SAAUiD,GACvB,OACIpC,SAAUA,EAASqC,iBACnB5B,KAAMvB,EAAauB,KACnBY,KAAMnC,EAAamC,KACnBb,OAAQtB,EAAasB,YAMrCjB,KAAKmD,oBAAsB,SAAUtG,EAASuG,EAAejD,EAAQC,EAAQE,GAGzE,GAAIqB,IACAxB,OAAQA,EAAOyB,cACfC,IAAKhF,EAAU,IAAMuG,EACrBtB,KAAM1B,EACN2B,aAAc,OACdC,kBAAkB,EAClBC,kBAAkB,EAItBjD,GAAM2C,GAAS/B,KAAKyD,EAAgBC,GAG/B3G,EAAEG,IAAIjB,EAAiB8F,IACxB9F,EAAgBuB,KAAKuE,GAGpBhG,IACDA,EAAWwD,EAAU,WACjB9C,QAAQC,QAAQT,EAAiB,SAAU8F,GACvC3C,EAAM2C,GAAS/B,KAAKyD,EAAgBC,MAEzChE,EAAiBV,aAIxB,IAAIyE,GAAiB,SAAUJ,GAG3B,GAAIM,GAAa5G,EAAE6G,UAAUP,EAAOnB,KAAM,SAAU2B,EAAKhH,EAAMiH,GAC3DD,EAAIrG,MACAV,GAAID,EAAKC,GACTwE,KAAMzE,EAAKyE,KACXD,OAAQxE,EAAKwE,OACbE,cAAeC,SAASC,IAAIf,GAAW7E,WACvC6F,OAAO,EACPC,YAAa,GAAKC,MAAK/E,EAAK8E,aAAcoC,UAC1C9G,QAASA,QAKjBZ,GAAYL,EAAe2H,GAG3B3H,EAAgBe,EAAEiH,YAAYhI,GAAgB,gBAAiB,SAC/DmE,EAAMmD,WAGNI,EAAe,SAAUxB,GACzB,KAAM,+CAId9B,KAAK6D,MAAQ,WACT5E,EAAW6E,WAAW,0BAG1B9D,KAAK+D,SAAW,WACZ9E,EAAW6E,WAAW,6BAG1B9D,KAAKkD,QAAU,WACXjE,EAAW6E,WAAW,4BAG1B9D,KAAKgE,OAAS,WACV/E,EAAW6E,WAAW,kCAG1B9D,KAAKiE,mBAAqB,SAA4BC,GAClDjF,EAAW6E,WAAW,qCAAsCI,IAGhElE,KAAKmE,wBAA0B,WACvBxI,IACAwD,EAAUiF,OAAOzI,GACjBA,EAAW0I,SAInBrE,KAAKsE,6BAA+B,WAChCtE,KAAKmE,0BACLnE,KAAK6D,SAGT7D,KAAKuE,wBAA0B,WAC3B,GAAIC,GAAQ,CAMZ,OALAnI,SAAQC,QAAQV,EAAe,SAAUa,EAAMgI,GACvB,aAAhBhI,EAAKwE,QACLuD,MAGDA,EAAQ,GAGnBxE,KAAK0E,cAAgB,WACjB,MAAO9I,GAAcQ,OAAS,MAWlCuI,UAAU,cAAe,OAAQ,eAAgB,mCAAoC,SAAUtF,EAAMuF,EAActF,GACnH,OACIuF,SAAU,IACVC,SAAS,EACTC,KAAM,SAAUC,EAAOzI,EAAS0I,EAAOC,GACnCF,EAAMG,OAAO,WACT,MAAOvJ,GAAcQ,QAErB,SAAUgJ,GACN,GAAIA,GAASA,EAAQ,EAAG,CACpB7I,EAAQ8I,YAAYvJ,EAEpB,IAAIwJ,GAAkBJ,EAAeK,yBACjCD,GAAkB,IAClB/I,EAAQ8I,YAAYtJ,GACpBmJ,EAAeM,gBAAgBC,UAAW,OAG9ClJ,GAAQmJ,SAAS5J,KAI7B6J,OAAOC,eAAiB,SAAUC,GAC9B,GAAIC,IAAQtB,MAAOU,EAAeK,0BAElC,OAAIO,GAAItB,MAAQ,EACLI,EAAatF,EAAiBvB,mBAAmB+H,GAD5D,QAKJd,EAAMe,IAAI,wBAAyBb,EAAerB,OAElDmB,EAAMe,IAAI,2BAA4Bb,EAAenB,UAErDiB,EAAMe,IAAI,gCAAiCb,EAAelB,QAE1DgB,EAAMe,IAAI,0BAA2Bb,EAAehC,SAEpD8B,EAAMe,IAAI,qCAAsCb,EAAejB,qBAEnE+B,YAAa,SAAU,SAAU,WAAY,WAAY,OAAQ,aAAc,aAAc,QAAS,UAAW,2BAA4B,SAAoBhB,EAAOC,EAAO1I,EAAS2C,EAAUG,EAAMD,EAAYH,EAAYD,EAAOiH,EAASC,GAyB5O,QAASC,KACLnB,EAAMpJ,cAAgBA,EAG1B,QAASgB,GAAOH,GACZ,GAAmB,YAAfA,EAAKwE,SAAwBxE,EAAK2J,WAQtC,GAJA3J,EAAK2J,YAAa,EAElB/G,EAAKS,KAAK,kBAAoBrD,EAAKyE,MAE/BzE,EAAK6E,MAAO,CAEZ,GAAIK,IACAxB,OAAQ,OACR0B,IAAKpF,EAAKI,QAAU,IAAMJ,EAAK4J,WAC/BrE,kBAAkB,EAClBC,kBAAkB,EAGtBjD,GAAMsH,KAAK3E,GAAS/B,KAAK,SAAUqD,GAC/B,GAAIwB,GAAQ7I,EAAc4G,QAAQ/F,EAClCb,GAAc2K,OAAO9B,EAAO,IAC7B,SAAU9B,GACTlG,EAAK2J,YAAa,EAClB/G,EAAKsD,MAAM,6BAA+BlG,EAAKyE,MAC/C7B,EAAKsD,MAAMA,SAEZ,CAEH,GAAI8B,GAAQ7I,EAAc4G,QAAQ/F,EAClCb,GAAc2K,OAAO9B,EAAO,GAC5BrF,EAAWI,UAAUxD,EAAW,SAAUyD,GACtCA,EAAAA,UAAahD,EAAKC,OAK9B,QAAS6I,KACL,GAAIf,GAAQ,CAMZ,OALAnI,SAAQC,QAAQV,EAAe,SAAUa,EAAMgI,GACvB,aAAhBhI,EAAKwE,UAA2BxE,EAAK6E,OAAUA,OAAS7E,EAAK6E,QAC7DkD,MAGDA,EAGX,QAASgC,GAAK/J,GACV,GAAmB,WAAfA,EAAKwE,SAAuBxE,EAAK2J,WAIrC,GAAI3J,EAAKgK,QAAS,CACd,GAAI9E,IACAxB,OAAQ,OACR0B,IAAKpF,EAAKI,QAAU,IAAMJ,EAAKiK,eAC/B1E,kBAAkB,EAClBC,kBAAkB,EAGtBjD,GAAMsH,KAAK3E,GAAS/B,KAAK,SAAUkC,GAC/BzC,EAAKS,KAAK,uBAAyBrD,EAAKyE,MACxCyF,OAAO7E,EAAMrF,EAAKyE,OACnB,SAAUyB,UAGbtD,GAAKS,KAAK,iBAAmBrD,EAAKyE,MAClCyF,OAAOlK,EAAKqF,KAAMrF,EAAKyE,MAI/B,QAASgC,KACL7D,EAAKS,KAAK,8BACVkF,EAAMpJ,cAAgBA,EAG1B,QAASiI,KACLtH,EAAQmJ,SAAS5J,GAGrB,QAASmH,GAAOxG,GACRA,EAAKmK,WACLX,EAAQY,KAAKpK,EAAKmK,UAAW,UAIrC,QAASE,GAAOrK,GACRA,EAAKmK,WACLX,EAAQY,KAAKpK,EAAKsK,WAAY,UAItC,QAAS3C,GAAO3H,GACZyJ,EAAYc,QAAQ,mDAAoD,WACpE3H,EAAK4H,MAAM,oCAAsCxK,EAAKyE,KAEtD,IAAIS,IACAxB,OAAQ,OACR0B,IAAKpF,EAAKI,QAAU,IAAMJ,EAAKyK,aAC/BlF,kBAAkB,EAClBC,kBAAkB,EAGtBjD,GAAMsH,KAAK3E,GAAS/B,KAAK,SAAUkC,GAC/BzC,EAAKS,KAAK,aAAerD,EAAKyE,KAAO,2BACtC,SAAUyB,GACTtD,EAAKsD,MAAM,8BAAgClG,EAAKyE,MAChD7B,EAAKsD,MAAMA,OAKvB,QAASwE,KACL,MAAOvL,IAAiBA,EAAcQ,OAAS,EAGnD,QAAS2H,KACL1E,EAAKS,KAAK,gCAEV,KAAK,GAAI4D,GAAI9H,EAAcQ,OAAS,EAAGsH,GAAK,EAAGA,IAC3C9G,EAAOhB,EAAc8H,IAI7B,QAAS0D,KACL7K,EAAQ8I,YAAYvJ,GACpBS,EAAQ8I,YAAYtJ,GAGxB,QAASiI,KACDzH,EAAQ8K,SAASvL,GACjBsL,IAEAvD,IAIR,QAASI,GAAmB4B,EAAK3B,GAC7B9E,EAAWI,UAAUxD,EAAW,SAAUyD,GACtCA,EAAM6H,SAAS1H,KAAK,SAAU2H,GAC1BlL,QAAQC,QAAQiL,EAAS,SAAU9K,GAC/B,GAAIyH,EAAc,CACd,GAAIsD,GAAuBpG,SAASC,IAAI6C,EAAauD,OAAOhM,UAC5D,IAAIgB,EAAKkD,aAAawB,gBAAkBqG,EAEpC,WADA5L,GAAcwB,KAAKX,EAAKkD,cAKhCF,EAAAA,UAAahD,EAAKC,GAClB,KAAK,GAAIgH,GAAI,EAAGA,EAAI9H,EAAcQ,OAAQsH,IAClC9H,EAAc8H,GAAGhH,KAAOD,EAAKC,IAC7Bd,EAAc2K,OAAO7C,EAAG,SAlLhDrE,EAAKS,KAAKlE,EAAcQ,OAExB,IAAIsL,GAAK1H,IACT0H,GAAGlC,iBACCC,UAAU,GAGdiC,EAAG9K,OAASA,EACZ8K,EAAGlB,KAAOA,EACVkB,EAAGxE,QAAUA,EACbwE,EAAG7D,MAAQA,EACX6D,EAAGzE,OAASA,EACZyE,EAAGtD,OAASA,EACZsD,EAAGZ,OAASA,EACZY,EAAGP,eAAiBA,EACpBO,EAAG3D,SAAWA,EACd2D,EAAGN,KAAOA,EACVM,EAAG1D,OAASA,EACZ0D,EAAGzD,mBAAqBA,EACxByD,EAAGnC,wBAA0BA,EAE7BY,MAqKJwB,aAAc,iBACdC,kBAAkB,EAClBC,YAAa,SAAUC,EAAM7C,GACzB,MAAIA,GAAM4C,YACC5C,EAAM4C,YAEN,sDAInBE,KAAK,iBAAkB,mCAAoC,SAAUC,EAAgB1I,GACrF,GAAI2I,GAAO,k6BAOsB3I,EAAiBrB,MAC9C,6QAI8HqB,EAAiBT,cAAgB,yGACjES,EAAiBpB,cAAgB,0MAChCoB,EAAiBnB,WAAa,mqBAUGmB,EAAiBlB,aAAe,oIACnCkB,EAAiBd,UAAY,oJACbc,EAAiBb,WAAa,kHAChEa,EAAiB4I,cAAgB,sVAGuE5I,EAAiBf,YAAc,sQAC1Be,EAAiBjB,UAAY,yKAC1HiB,EAAiBhB,YAAc,sQAC8DgB,EAAiBZ,UAAY,mNAC9EY,EAAiBX,YAAc,uVAYtMW,GAAiBtB,gBACjBiK,EAAOA,EAAKnD,QAAQ,UAAWxF,EAAiBtB,gBAGpDgK,EAAeG,IAAI,iDAAkDF"}