{"version":3,"file":"activities.min.js","sources":["activities.js"],"names":["factory","define","module","exports","guid","s4","Math","floor","random","toString","substring","interval","activityItems","refreshServices","hideClass","minimizeClass","storeName","updateArray","destination","source","length","angular","forEach","element","upsert","item","id","_","remove","baseUrl","any","arr","key","newval","find","merge","push","config","$indexedDBProvider","connection","upgradeDatabase","event","db","tx","createObjectStore","keyPath","constant","inProgressWarning","i18nDirective","title","minimizeLabel","closeLabel","successLabel","stopLabel","detailLabel","resultLabel","doneLabel","errorLabel","saveLabel","removeLabel","refreshTime","clearAllLabel","service","$q","$http","$rootScope","$timeout","$interval","$indexedDB","$log","ActivitiesConfig","clock","activityItem","timeout","duration","moment","initialDate","diff","Date","now","add","onTimeout","hours","minutes","slice","seconds","status","insertToIndexedDb","openStore","store","insert","then","e","info","$this","this","initActivity","apiUrl","method","params","activityName","userLogin","respType","name","userLoginHash","CryptoJS","MD5","async","unshift","request","toUpperCase","url","data","responseType","ignoreLoadingBar","showLoadingModal","httpPromise","success","headers","toLowerCase","contentDisposition","filename","indexOf","Blob","type","error","when","response","asMilliseconds","initAsyncActivity","s","result","refresh","loadAsyncActivities","apiRefreshUrl","refreshSuccess","refreshError","activities","transform","ret","i","extend","getTime","sortByOrder","close","$broadcast","clearAll","toggle","validateActivities","userIdentity","cancelRefreshActivities","cancel","undefined","cancelCloseRefreshActivities","hasInProgressActivities","count","index","hasActivities","directive","$interpolate","restrict","replace","link","scope","attrs","activitiesCtrl","$watch","value","removeClass","inProgressCount","getInProgressItemsCount","activitiesModel","minimize","addClass","window","onbeforeunload","evt","obj","$on","controller","$window","alertHelper","initCtrl","hideApiUrl","isRemoving","splice","save","isAsync","downloadApiUrl","saveAs","resultUrl","open","detail","detailsUrl","cancelApiUrl","confirm","debug","hasItemsToShow","show","hasClass","getAll","objects","currentUserLoginHash","login","vm","controllerAs","bindToController","templateUrl","elem","run","$templateCache","tmpl","canceledLabel","put"],"mappings":";;;;;;CAKC,SAAUA,GACP,MAAsB,kBAAXC,SAGe,mBAAXC,SAA6C,mBAAZC,UAA2BD,OAAOC,UAAYA,UACtFD,OAAOC,QAAU,mBAEdH,SALPC,SAAQ,UAAW,SAAU,uBAAwB,sBAAuBD,IAOlF,WACE,YASA,SAASI,KACL,QAASC,KACL,MAAOC,MAAKC,MAA4B,OAArB,EAAID,KAAKE,WACvBC,SAAS,IACTC,UAAU,GAEnB,MAAOL,KAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAC3CA,IAAO,IAAMA,IAAOA,IAAOA,IAdnC,GAEIM,GAFAC,KACAC,KAEAC,EAAY,SACZC,EAAgB,aAChBC,EAAY,aAYZC,EAAc,SAAUC,EAAaC,GACjCA,EAAOC,OAAS,IAEhBC,QAAQC,QAAQH,EAAQ,SAAUI,GAC9BC,EAAON,EACH,SAAUO,GACN,MAAOF,GAAQG,KAAOD,EAAKC,IAE/BH,KAGRI,EAAEC,OAAOV,EAAa,SAAUO,GAC5B,MAAIN,GAAO,GAAGU,QACHV,EAAO,GAAGU,UAAYJ,EAAKI,UAC1BF,EAAEG,IAAIX,EAAQ,SAAUI,GACxB,MAAOA,GAAQG,KAAOD,EAAKC,MAGhC,MAKfF,EAAS,SAAUO,EAAKC,EAAKC,GAC7B,GAAIN,EAAEG,IAAIC,EAAKC,GAAM,CACjB,GAAIP,GAAOE,EAAEO,KAAKH,EAAKC,EACvBL,GAAEQ,MAAMV,EAAMQ,OAEdF,GAAIK,KAAKH,GAIjBZ,SAAQnB,OAAO,mBAAoB,cAAcmC,QAAQ,qBAAsB,SAAUC,GACrFA,EACKC,WAAW,cACXC,gBAAgB,EAAG,SAAUC,EAAOC,EAAIC,GACtBD,EAAGE,kBAAkB5B,GAAa6B,QAAS,YAItExB,QAAQnB,OAAO,mBAAmB4C,SAAS,oCACvCC,kBAAmB,kEACnBC,cAAe,GACfC,MAAO,aACPC,cAAe,WACfC,WAAY,QACZC,aAAc,UACdC,UAAW,OACXC,YAAa,UACbC,YAAa,SACbC,UAAW,OACXC,WAAY,QACZC,UAAW,OACXC,YAAa,SACbC,YAAa,IACbC,cAAe,cAGnBxC,QAAQnB,OAAO,mBAAmB4D,QAAQ,qCAAsC,KAAM,QAAS,aAAc,WAAY,YAAa,aAAc,OAAQ,mCAAoC,SAAUC,EAAIC,EAAOC,EAAYC,EAAUC,EAAWC,EAAYC,EAAMC,GA2LpQ,QAASC,GAAMC,GACX,GAAIC,GACAC,EAAWC,OAAOD,UAEtB,IAAGF,EAAaI,YAAY,CACxB,GAAIC,GAAOC,KAAKC,MAAQ,GAAID,MAAKN,EAAaI,YAC9CF,GAASM,IAAIH,EAAM,MAGvB,GAAII,GAAY,WACZP,EAASM,IAAI,EAAG,KAChBR,EAAaE,SAAW,KAAOA,EAASQ,QAAUR,EAASQ,QAAU,IAAM,KAAO,IAAMR,EAASS,WAAWC,MAAM,IAAM,KAAO,IAAMV,EAASW,WAAWD,MAAM,IAAM,IACzI,aAAxBZ,EAAac,SACbb,EAAUP,EAASe,EAAW,MAGtC,OAAOA,GAiDX,QAASM,GAAkB9D,GACvB2C,EAAWoB,UAAUxE,EAAW,SAAUyE,GACtCA,EAAMC,QAAShE,GAAMD,EAAKC,GAAI8C,aAAgB/C,IAAQkE,KAAK,SAAUC,GACjEvB,EAAKwB,KAAK,2BAA6BD,OA7PnD,GAAIE,GAAQC,IAEZA,MAAKC,aAAe,SAAUnE,EAASoE,EAAQC,EAAQC,EAAQC,EAAcC,EAAWC,GAEpF,GAAI9B,IACA9C,GAAItB,IACJmG,KAAMH,EACNd,OAAQ,WACRZ,SAAU,UACV8B,cAAeC,SAASC,IAAIL,GAAW5F,WACvCkG,OAAO,EACP/B,YAAaE,KAAKC,MAGtBnE,GAAcgG,QAAQpC,EAEtB,IAAIqC,IACAX,OAAQA,EAAOY,cACfC,IAAKlF,EAAU,IAAMoE,EACrBe,KAAMb,EACNc,aAAcX,EAAWA,EAAW,cACpCY,kBAAkB,EAClBC,kBAAkB,EAGtBjD,GAASK,EAAMC,GAEf,IAAI4C,GAAcpD,EAAM6C,GAASQ,QAAQ,SAAUL,EAAM1B,EAAQgC,EAASjF,GAEtE,GAA2C,gBAAvCwE,EAAQI,aAAaM,eAA0E,SAAvCV,EAAQI,aAAaM,cAA0B,CACvG,GAAIC,GAAqBF,EAAQ,uBAC7BG,EAAWD,EAAqBA,EAAmB9G,UAAW8G,EAAmBE,QAAQ,aAAe,GAAM,EAE9GD,KACAjD,EAAa+B,KAAOkB,GAGxBjD,EAAac,OAAS,UACtBd,EAAawC,KAAO,GAAIW,OAAMX,IAASY,KAAMN,EAAQ,kBAErD/B,EAAkBf,OAElBA,GAAac,OAAS,OACtBd,EAAawC,KAAOA,EAEpBzB,EAAkBf,KAEvBqD,MAAM,SAAUb,EAAM1B,GACrBd,EAAac,OAAS,QACtBd,EAAawC,KAAO,KAEpBzB,EAAkBf,IAGtB,OAAOT,GAAG+D,KACNV,EAAYzB,KAAK,SAAUoC,GACvB,OACIrD,SAAUA,SAASsD,iBACnBzB,KAAM/B,EAAa+B,KACnBS,KAAMxC,EAAawC,KACnB1B,OAAQd,EAAac,YAMrCS,KAAKkC,kBAAoB,SAAUpG,EAASoE,EAAQC,EAAQC,EAAQC,EAAcC,GAG9E,IAAK1F,GAAYgB,EAAEG,IAAIjB,EAAiB,SAAUqH,GAAK,MAA8B,KAAvBA,EAAER,QAAQ7F,KACpE,KAAM,4HAGV,IAAI2C,IACA9C,GAAItB,IACJmG,KAAMH,EACNd,OAAQ,WACRZ,SAAU,UACV8B,cAAeC,SAASC,IAAIL,GAAW5F,WACvCkG,OAAO,EACP/B,YAAaE,KAAKC,MAClBlD,QAASA,EAGbjB,GAAcgG,QAAQpC,EAEtB,IAAIqC,IACAX,OAAQA,EAAOY,cACfC,IAAKlF,EAAU,IAAMoE,EACrBe,KAAMb,EACNe,kBAAkB,EAClBC,kBAAkB,EAGtBjD,GAASK,EAAMC,GAGf,IAAI4C,GAAcpD,EAAM6C,GAASQ,QAAQ,SAAUc,GAC3CA,IACA3G,EAAOZ,EACP,SAAUa,GACN,MAAO+C,GAAa9C,KAAOD,EAAKC,IAEpCyG,GACAC,aAELP,MAAM,SAAUM,EAAQ7C,GACvB3D,EAAEC,OAAOhB,EAAe,SAAUa,GAC9B,MAAO+C,GAAa9C,KAAOD,EAAKC,MAIxC,OAAOqC,GAAG+D,KACNV,EAAYzB,KAAK,SAAUoC,GACvB,OACIrD,SAAUA,SAASsD,iBACnBzB,KAAM/B,EAAa+B,KACnBS,KAAMxC,EAAawC,KACnB1B,OAAQd,EAAac,YAMrCS,KAAKsC,oBAAsB,SAAUxG,EAASyG,EAAepC,EAAQC,EAAQE,GAGzE,GAAIQ,IACAX,OAAQA,EAAOY,cACfC,IAAKlF,EAAU,IAAMyG,EACrBtB,KAAMb,EACNc,aAAc,OACdC,kBAAkB,EAClBC,kBAAkB,EAItBnD,GAAM6C,GAASlB,KAAK4C,EAAgBC,GAG/B7G,EAAEG,IAAIjB,EAAiBgG,IACxBhG,EAAgBuB,KAAKyE,GAGpBlG,IACDA,EAAWwD,EAAU,WACjB9C,QAAQC,QAAQT,EAAiB,SAAUgG,GACvC7C,EAAM6C,GAASlB,KAAK4C,EAAgBC,MAEzClE,EAAiBV,aAIxB,IAAI2E,GAAiB,SAAUJ,GAG3B,GAAIM,GAAa9G,EAAE+G,UAAUP,EAAOnB,KAAM,SAAU2B,EAAKlH,EAAMmH,GAC3DD,EAAIvG,KAAKT,EAAEkH,UAAWpH,GAClB+E,cAAeC,SAASC,IAAIL,GAAW5F,WACvCkG,OAAO,EACP/B,YAAa,GAAKE,MAAKrD,EAAKmD,aAAckE,UAC1CjH,QAASA,SAKjBZ,GAAYL,EAAe6H,GAG3B9G,EAAEL,QAAQV,EAAe,SAAS4D,EAAcxC,IACxCwC,EAAaE,UAAYF,EAAaI,aACtCV,EAASK,EAAMC,MAKvB5D,EAAgBe,EAAEoH,YAAYnI,GAAgB,gBAAiB,SAC/DkF,EAAMsC,WAGNI,EAAe,SAAUxB,GACzB,KAAM,+CAuBdjB,KAAKiD,MAAQ,WACT/E,EAAWgF,WAAW,0BAG1BlD,KAAKmD,SAAW,WACZjF,EAAWgF,WAAW,6BAG1BlD,KAAKqC,QAAU,WACXnE,EAAWgF,WAAW,4BAG1BlD,KAAKoD,OAAS,WACVlF,EAAWgF,WAAW,kCAG1BlD,KAAKqD,mBAAqB,SAA4BC,GAClDpF,EAAWgF,WAAW,qCAAsCI,IAGhEtD,KAAKuD,wBAA0B,WACvB3I,IACAwD,EAAUoF,OAAO5I,GACjBA,EAAW6I,SAInBzD,KAAK0D,6BAA+B,WAChC1D,KAAKuD,0BACLvD,KAAKiD,SAGTjD,KAAK2D,wBAA0B,WAC3B,GAAIC,GAAQ,CAMZ,OALAtI,SAAQC,QAAQV,EAAe,SAAUa,EAAMmI,GACvB,aAAhBnI,EAAK6D,QACLqE,MAGDA,EAAQ,GAGnB5D,KAAK8D,cAAgB,WACjB,MAAOjJ,GAAcQ,OAAS,MAWlC0I,UAAU,cAAe,OAAQ,eAAgB,mCAAoC,SAAUzF,EAAM0F,EAAczF,GACnH,OACI0F,SAAU,IACVC,SAAS,EACTC,KAAM,SAAUC,EAAO5I,EAAS6I,EAAOC,GACnCF,EAAMG,OAAO,WACT,MAAO1J,GAAcQ,QAErB,SAAUmJ,GACN,GAAIA,GAASA,EAAQ,EAAG,CACpBhJ,EAAQiJ,YAAY1J,EAEpB,IAAI2J,GAAkBJ,EAAeK,yBACjCD,GAAkB,IAClBlJ,EAAQiJ,YAAYzJ,GACpBsJ,EAAeM,gBAAgBC,UAAW,OAG9CrJ,GAAQsJ,SAAS/J,KAI7BgK,OAAOC,eAAiB,SAAUC,GAC9B,GAAIC,IAAQtB,MAAOU,EAAeK,0BAElC,OAAIO,GAAItB,MAAQ,EACLI,EAAazF,EAAiBvB,mBAAmBkI,GAD5D,QAKJd,EAAMe,IAAI,wBAAyBb,EAAerB,OAElDmB,EAAMe,IAAI,2BAA4Bb,EAAenB,UAErDiB,EAAMe,IAAI,gCAAiCb,EAAelB,QAE1DgB,EAAMe,IAAI,0BAA2Bb,EAAejC,SAEpD+B,EAAMe,IAAI,qCAAsCb,EAAejB,qBAEnE+B,YAAa,SAAU,SAAU,WAAY,WAAY,OAAQ,aAAc,aAAc,QAAS,UAAW,2BAA4B,SAAoBhB,EAAOC,EAAO7I,EAAS2C,EAAUG,EAAMD,EAAYH,EAAYD,EAAOoH,EAASC,GAyB5O,QAASC,KACLnB,EAAMvJ,cAAgBA,EAG1B,QAASgB,GAAOH,GACZ,KAAoB,aAAhBA,EAAK6D,QAA0B7D,EAAKkF,QAAUlF,EAAK8J,YAAe9J,EAAK+J,YAQ3E,GAJA/J,EAAK+J,YAAa,EAElBnH,EAAKwB,KAAK,kBAAoBpE,EAAK8E,MAE/B9E,EAAKkF,OAASlF,EAAK8J,WAAY,CAE/B,GAAI1E,IACAX,OAAQ,OACRa,IAAKtF,EAAKI,QAAU,IAAMJ,EAAK8J,WAC/BrE,kBAAkB,EAClBC,kBAAkB,EAGtBnD,GAAM6C,GAASlB,KAAK,SAAUwC,GAC1B,GAAIyB,GAAQhJ,EAAc8G,QAAQjG,EAClCb,GAAc6K,OAAO7B,EAAO,IAC7B,SAAU/B,GACTpG,EAAK+J,YAAa,EAClBnH,EAAKwD,MAAM,6BAA+BpG,EAAK8E,MAC/ClC,EAAKwD,MAAMA,SAEZ,CAEH,GAAI+B,GAAQhJ,EAAc8G,QAAQjG,EAClCb,GAAc6K,OAAO7B,EAAO,GAC5BxF,EAAWoB,UAAUxE,EAAW,SAAUyE,GACtCA,EAAAA,UAAahE,EAAKC,OAK9B,QAASgJ,KACL,GAAIf,GAAQ,CAMZ,OALAtI,SAAQC,QAAQV,EAAe,SAAUa,EAAMmI,GACvB,aAAhBnI,EAAK6D,QAA0B7D,EAAKkF,OACpCgD,MAGDA,EAGX,QAAS+B,GAAKjK,GACV,GAAmB,WAAfA,EAAK6D,SAAuB7D,EAAK+J,WAIrC,GAAI/J,EAAKkK,QAAS,CACd,IAAKlK,EAAKmK,eACN,MAEJ,IAAI/E,IACAX,OAAQ,OACRa,IAAKtF,EAAKI,QAAU,IAAMJ,EAAKmK,eAC/B1E,kBAAkB,EAClBC,kBAAkB,EAGtBnD,GAAM6C,GAASlB,KAAK,SAAUqB,GAC1B3C,EAAKwB,KAAK,uBAAyBpE,EAAK8E,MACxCsF,OAAO7E,EAAMvF,EAAK8E,OACnB,SAAUsB,UAGbxD,GAAKwB,KAAK,iBAAmBpE,EAAK8E,MAClCsF,OAAOpK,EAAKuF,KAAMvF,EAAK8E,MAI/B,QAAS6B,KACL/D,EAAKwB,KAAK,8BACVsE,EAAMvJ,cAAgBA,EAG1B,QAASoI,KACLzH,EAAQsJ,SAAS/J,GAGrB,QAASqH,GAAO1G,GACRA,EAAKqK,WACLV,EAAQW,KAAKtK,EAAKqK,UAAW,UAIrC,QAASE,GAAOvK,GACRA,EAAKwK,YACLb,EAAQW,KAAKtK,EAAKwK,WAAY,UAItC,QAAS1C,GAAO9H,IACRA,EAAK+J,YAAe/J,EAAKyK,cAG7Bb,EAAYc,QAAQ,mDAAoD,WACpE9H,EAAK+H,MAAM,oCAAsC3K,EAAK8E,KAEtD,IAAIM,IACAX,OAAQ,OACRa,IAAKtF,EAAKI,QAAU,IAAMJ,EAAKyK,aAC/BhF,kBAAkB,EAClBC,kBAAkB,EAGtBnD,GAAM6C,GAASlB,KAAK,SAAUqB,GAC1B3C,EAAKwB,KAAK,aAAepE,EAAK8E,KAAO,2BACtC,SAAUsB,GACTxD,EAAKwD,MAAM,8BAAgCpG,EAAK8E,MAChDlC,EAAKwD,MAAMA,OAKvB,QAASwE,KACL,MAAOzL,IAAiBA,EAAcQ,OAAS,EAGnD,QAAS8H,KACL7E,EAAKwB,KAAK,gCAEV,KAAK,GAAI+C,GAAIhI,EAAcQ,OAAS,EAAGwH,GAAK,EAAGA,IAC3ChH,EAAOhB,EAAcgI,IAI7B,QAAS0D,KACL/K,EAAQiJ,YAAY1J,GACpBS,EAAQiJ,YAAYzJ,GAGxB,QAASoI,KACD5H,EAAQgL,SAASzL,GACjBwL,IAEAtD,IAIR,QAASI,GAAmB4B,EAAK3B,GAC7BjF,EAAWoB,UAAUxE,EAAW,SAAUyE,GACtCA,EAAM+G,SAAS7G,KAAK,SAAU8G,GAC1BpL,QAAQC,QAAQmL,EAAS,SAAUhL,GAC/B,GAAI4H,EAAc,CACd,GAAIqD,GAAuBjG,SAASC,IAAI2C,EAAasD,OAAOlM,UAC5D,IAAIgB,EAAK+C,aAAagC,gBAAkBkG,EAEpC,WADA9L,GAAcwB,KAAKX,EAAK+C,cAKhCiB,EAAAA,UAAahE,EAAKC,GAClB,KAAK,GAAIkH,GAAI,EAAGA,EAAIhI,EAAcQ,OAAQwH,IAClChI,EAAcgI,GAAGlH,KAAOD,EAAKC,IAC7Bd,EAAc6K,OAAO7C,EAAG,SAxLhDvE,EAAKwB,KAAKjF,EAAcQ,OAExB,IAAIwL,GAAK7G,IACT6G,GAAGjC,iBACCC,UAAU,GAGdgC,EAAGhL,OAASA,EACZgL,EAAGlB,KAAOA,EACVkB,EAAGxE,QAAUA,EACbwE,EAAG5D,MAAQA,EACX4D,EAAGzE,OAASA,EACZyE,EAAGrD,OAASA,EACZqD,EAAGZ,OAASA,EACZY,EAAGP,eAAiBA,EACpBO,EAAG1D,SAAWA,EACd0D,EAAGN,KAAOA,EACVM,EAAGzD,OAASA,EACZyD,EAAGxD,mBAAqBA,EACxBwD,EAAGlC,wBAA0BA,EAE7BY,MA2KJuB,aAAc,iBACdC,kBAAkB,EAClBC,YAAa,SAAUC,EAAM5C,GACzB,MAAIA,GAAM2C,YACC3C,EAAM2C,YAEN,sDAInBE,KAAK,iBAAkB,mCAAoC,SAAUC,EAAgB5I,GACrF,GAAI6I,GAAO,k6BAOsB7I,EAAiBrB,MAC9C,6QAI8HqB,EAAiBT,cAAgB,yGACjES,EAAiBpB,cAAgB,0MAChCoB,EAAiBnB,WAAa,mqBAUGmB,EAAiBlB,aAAe,oIACnCkB,EAAiBd,UAAY,oJACbc,EAAiBb,WAAa,kHAChEa,EAAiB8I,cAAgB,wVAGyE9I,EAAiBf,YAAc,yXACuFe,EAAiBjB,UAAY,2KAC3OiB,EAAiBhB,YAAc,uSAC6FgB,EAAiBZ,UAAY,uQAC3DY,EAAiBX,YAAc,uVAY1PW,GAAiBtB,gBACjBmK,EAAOA,EAAKlD,QAAQ,UAAW3F,EAAiBtB,gBAGpDkK,EAAeG,IAAI,iDAAkDF"}